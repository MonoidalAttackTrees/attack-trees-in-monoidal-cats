In her thesis de Paiva \cite{?} gave one of the first sound and
complete categorical models, called dialectica categories, of full
intuitionistic linear logic.  Her models arose from giving a
categorical definition to G\"odel's Dialectica interpretation.  de
Paiva defines a particular class of dialectica categories called $GC$
over a base category $C$, see page 41 of \cite{dePaiva:1988}.  She
later showed that by instantiating $C$ to $\mathsf{Sets}$, the
category of sets and total functions, that one arrives at concrete
instantiation of $GC$ she called $\dial{2}$ whose objects are called
\emph{dialectica spaces}, and then she abstracts $\dial{2}$ into a
family of concrete dialectica spaces, $\dial{\text{$L$}}$, by replacing
$\mathsf{2}$ with an arbitrary lineale $L$.

In this section we construct the dialectica category, $\dial{4}$, and
show that it is a model of attack trees.  This will be done by
essentially lifting each of the attack tree operators defined for the
lineale semantics given in the previous section into the dialectica
category.  Working with dialectica categories can be very complex due
to the nature of how they are constructed.  In fact, they are one of
the few examples of theories that are easier to work with in a proof
assistant than outside of one.  Thus, throughout this section we only
give brief proof sketches, but the interested reader will find the
complete proofs in the formalization.

We begin with the basic definition of $\dial{4}$, and prove it is a
category.
\begin{definition}
  \label{def:dialectica-model}
  The category of dialectica spaces over $\Four$, denoted by
  $\dial{4}$, is defined by the following data:
  \begin{itemize}
  \item objects, or dialectica spaces, are triples $(U, X, \alpha)$
    where $U$ and $X$ are sets, and $\alpha : U \to X \to \Four$ is a
    relation on $\Four$.

  \item morphisms are pairs $(f,F) : (U,X,\alpha) \to (V,Y,\beta)$
    where $f : U \to V$ and $F : Y \to X$ such that for any $u \in U$
    and $y \in Y$, $\alpha(u,F(y)) \leq_4 \beta(f(u),y)$.
  \end{itemize}
\end{definition}

\begin{lemma}
  \label{lemma:dial4_is_a_category}
  The category $\dial{4}$ is a category.
\end{lemma}
\begin{proof}
  Identity morphisms are defined by $(\id_U, \id_X) : (U , X , \alpha)
  \to (U , X, \alpha)$, and the property on morphisms holds by
  reflexivity.  Given two morphism $(f, F) : (U , X, \alpha) \to (V ,
  Y , \beta)$ and $(g, G) : (V , Y, \beta) \to (W , Z, \gamma)$, then
  their composition is defined by $(f;g, G;F) $ $: (U , X , \alpha) \to
  (W , Z , \gamma)$ whose property holds by transitivity.  Proving
  that composition is associative and respects identities is
  straightforward.
\end{proof}

Next we show that $\dial{4}$ is symmetric monoidal closed.  The
definitions of both the tensor product and the internal hom will be
defined in terms of their respective counterparts in the lineale
semantics.
\begin{definition}
  \label{def:dialectica-model-smcc}
  The following defines the tensor product and the internal hom:
  \begin{itemize}
  \item[] (Tensor Product) Suppose $A = (U , X , \alpha)$ and $B = (V, Y, \beta)$, then
    define $A \otimes B = (U \times V, (V \to X) \times (U \to Y), \alpha \otimes_r \beta)$, where
    $(\alpha \otimes_r \beta)(u, v)(f, g) = (\alpha\,u\,(f v)) \otimes_4 (\beta\,v\,(g\,u))$.\\[-5px]

  \item[] (Internal Hom) Suppose $A = (U , X , \alpha)$ and $B = (V, Y, \beta)$, then
    define $A \limp B = ((U \to V) \times (Y \to X), U \times Y, \alpha \limp_r \beta)$, where
    $(\alpha \limp_4 \beta)(f , g)(u , y) = (\alpha\,u\,(g\,y)) \limp_4 (\beta\,(f\,u)\,y)$.
  \end{itemize}
  The unit of the tensor product is defined by $I = (\top, \top,
  (\lambda x.\lambda y.I_4))$, where $\top$ is the final object in
  $\mathsf{Set}$.
\end{definition}
The following properties hold for the previous constructions.
\begin{lemma}[SMCC Properties for $\dial{4}$]
  \label{lemma:smcc_properties_for_dial4}
  \begin{itemize}
  \item[] (Functorality for Tensor) Given morphisms $f : A \mto C$ and
    $g : B \mto D$, then there is a morphism $f \otimes g : (A \otimes B) \mto (C \otimes D)$.\\[-5px]
  \item[] (Associator) There is a natural isomorphism, $\alpha_{A,B,C} : (A \otimes B) \otimes C \mto A \otimes (B \otimes C)$.\\[-5px]
  \item[] (Unitors) There are natural isomorphisms, $\lambda_A : (I \otimes A) \mto A$ and $\rho_A : (A \otimes I) \mto A$.\\[-5px]
  \item[] (Symmetry) There is a natural transformation, $\beta_{A,B} : (A \otimes B) \mto (B \otimes A)$ that is involutive.\\[-5px]
  \item[] (Functorality for the Internal Hom) Given morphism $f : C \mto A$ and $g : B \mto D$, then there is a morphism $f \limp g : (A \limp B) \mto (C \limp D)$.\\[-5px]
  \item[] (Adjunction) There is a natural bijection:\vspace{-5px}
    \[ \mathsf{curry} : \Hom{\dial{4}}{A \otimes B}{C} \cong \Hom{\dial{4}}{A}{B \limp C}. \]
  \end{itemize}
  Finally, the coherence diagrams for symmetric monoidal categories --
  which we omit to conserve space, but can be found here \cite{?} --
  also hold for the natural transformations above.
\end{lemma}
\begin{proof}
  These properties are not new, and their proofs follow almost exactly
  de Paiva's proofs from her thesis \cite{?}.  The complete proofs for
  each of the cases above, including the proofs for the symmetric
  monoidal coherence diagrams, can be found in the formalization.
\end{proof}

The constructions on $\dial{4}$ given so far are not new, but the
constructions for the attack tree operators for parallel conjunction,
sequential conjunction, and choice are new to dialectica categories,
but it turns out that the definition of choice we give here has been
previously used in a different categorical construction called the
category of Chu spaces.
\begin{definition}
  \label{def:attack-tree-ops-dialectica}
  The attack tree operators are defined in $\dial{4}$ as follows:
  \begin{itemize}
  \item[] (Parallel Conjunction) Suppose $A = (U , X , \alpha)$ and $B = (V , Y , \beta)$, then
    $A \odot B = (U \times V, X \times Y, \alpha \odot_r \beta)$, where
    $(\alpha \odot_r \beta)(u , v)(x , y) = (\alpha\,u\,x) \odot_4 (\beta\,v\,y)$.\\[-5px]

  \item[] (Sequential Conjunction) $A = (U , X , \alpha)$ and $B = (V , Y , \beta)$, then
    $A \rhd B = (U \times V, X \times Y, \alpha \rhd_r \beta)$, where
    $(\alpha \rhd_r \beta)(u , v)(x , y) = (\alpha\,u\,x) \rhd_4 (\beta\,v\,y)$.\\[-5px]
    
  \item[] (Choice) $A = (U , X , \alpha)$ and $B = (V , Y , \beta)$, then
    $A \sqcup B = (U + V, X + Y, \alpha \sqcup_r \beta)$, where
    \begin{center}
      \begin{math}
        \begin{array}{lll}
          (\alpha \odot_r \beta)\,a\,b = \alpha\,a\,b, \text{when $a \in U$ and $b \in X$}\\
          (\alpha \odot_r \beta)\,a\,b = \beta\,a\,b, \text{when $a \in V$ and $b \in Y$}\\
          (\alpha \odot_r \beta)\,a\,b = 0, \text{otherwise}\\
        \end{array}
      \end{math}
    \end{center}
  \end{itemize}
\end{definition}
The definitions of parallel and sequential conjunction are quite
literally the lifting of their lineale counterparts.  The parallel and
sequential operators on $(\mathsf{4}, \leq_4,\otimes_4,I_4,\limp_4)$,
$\odot_4$ and $\rhd_4$, restrict the cartesian product to the required
properties for attack trees.  Now choice must be carefully constructed
so that we may prove the required distributive laws and contraction.

Given a dialectica space, $(U, X, \alpha)$, we can consider $U$ as a
set of actions and $X$ as a set of states.  Then given an action, $a
\in U$, and a state, $q \in X$, $\alpha\,a\,q$, indicates whether
action $a$ will execute in state $q$.  This implies that an action $a$
and a state $q$ of $A \sqcup B$, for $A = (U , X , \alpha)$ and $B =
(V , Y , \beta)$, are either an action of $A$ or an action of $B$, and
a state of $A$ or a state of $B$.  Then an action, $a$, of $A \sqcup
B$ will execute in state $q$ of $A \sqcup B$ if they are both from $A$
or both from $B$.  Thus, the definition of choice very much fits the
semantics of a choice operator.  It is well known that the cartesian
product distributes over the disjoint union in $\mathsf{Sets}$, and
because of the definitions of parallel and sequential conjunction, and
choice, these properties lift up into $\dial{4}$.

It turns out that the definition of choice given here is not new at
all, but first appeared as the choice operator used for modeling
concurrency in Chu spaces due to Gupta and Pratt \cite{Gupta:1994}.
Chu spaces are the concrete objects of Chu categories just like
dialectica spaces are the concrete objects of dialectica categories.
In fact, Chu categories and dialectica categories are cousins
\cite{dePaiva:2006b}.  Chu and dialectica categories have exactly the
same objects, but the condition on morphisms is slightly different,
for Chu categories the condition uses equality instead of the
preorder.  The impact of this is significant, Chu spaces are a model
of classical linear logic, while dialectica categories are a model of
intuitionistic linear logic.  At this point one natural question to
ask is since choice is an object of both Chu and dialectica categories
does it bring any additional structural rules with it?  In fact, it
does, we are able to show that there is a natural transformation,
$\mathsf{contract}^\sqcup : (A \sqcup A) \mto A$, in $\dial{4}$, but
this is exactly what we want, because choice in attack trees
contracts, however, this is not an isomorphism.  Keep in mind that no
other operator presented here satisfies contraction.

The following gives all of the properties that hold for the attack
tree operators in $\dial{4}$.
\begin{lemma}[Properties of the Attack Tree Operators in $\dial{4}$]
  \label{lemma:properties_of_the_attack_tree_operators_in_dial4}
  \begin{itemize}
  \item[] (Functorality) Given morphisms $f : A \mto C$ and
    $g : B \mto D$, then there is a morphism $f \bullet g : (A \bullet B) \mto (C \bullet D)$, for $\bullet \in \{\odot, \rhd, \sqcup\}$.\\[-5px]
  \item[] (Associativity) There is a natural isomorphism, $\alpha^\bullet_{A,B,C} : (A \bullet B) \bullet C \mto A \bullet (B \bullet C)$, for $\bullet \in \{\odot, \rhd, \sqcup\}$.\\[-5px]
  \item[] (Symmetry) There is a natural transformation, $\beta^\bullet_{A,B} : (A \bullet B) \mto (B \bullet A)$ that is involutive, for $\bullet \in \{\odot, \rhd, \sqcup\}$.\\[-5px]
  \item[] (Choice is Contractive) There is a natural transformation, $\mathsf{contract}^\sqcup : (A \sqcup A) \mto A$.\\[-5px]
  \item[] (Left Distributive Laws) There is a natural isomorphism, $distl^\bullet : A \bullet (B \sqcup C) \mto (A \bullet B) \sqcup (A \bullet C)$, for $\bullet \in \{\odot, \rhd\}$.\\[-5px]
  \item[] (Right Distributive Laws) There is a natural isomorphism, $distr^\bullet : (A \sqcup B) \bullet C \mto (A \bullet C) \sqcup (B \bullet C)$, for $\bullet \in \{\odot, \rhd\}$.
  \end{itemize}
\end{lemma}

At this point we can interpret attack trees into $\dial{4}$, but
because $\mathsf{contract}^\sqcup$ is only a natural transformation
and not an isomorphism we have to rethink proving equivalences between
attack trees.
\begin{definition}
  \label{def:interp-aterms-ternary}
  Suppose $\mathbb{B}$ is some set of base attacks, and $\nu :
  \mathbb{B} \mto \obj{\dial{4}}$ is an assignment of base attacks to
  dialectica spaces.  Then we define the interpretation of
  $\mathsf{ATerms}$ to objects of $\dial{4}$ as follows:
  \begin{center}
    \begin{math}
      \setlength{\arraycolsep}{5px}
      \begin{array}{lll}
        \begin{array}{rll}
          \interp{[[b]] \in \mathbb{B}} & = & \nu([[b]])\\
        \interp{[[AND T1 T2]]} & = & \interp{[[T1]]} \odot \interp{[[T2]]}\\
        \end{array}
        &
        \begin{array}{rll}
          \interp{[[OR T1 T2]]} & = & \interp{[[T1]]} \sqcup \interp{[[T2]]}\\
          \interp{[[SAND T1 T2]]} & = & \interp{[[T1]]} \rhd \interp{[[T2]]}\\          
        \end{array}
      \end{array}
    \end{math}
  \end{center}
\end{definition}
Let $[[T1 ~= T2]]$ be $[[T1 ~ T2]]$ without contraction for choice.
Then we have the following result.
\begin{lemma}[Equivalence of Attack Trees in the Dialectica Semantics]
  \label{lemma:equivalence_of_attack_trees_lineale}
  Suppose $\mathbb{B}$ is some set of base attacks, and $\nu :
  \mathbb{B} \mto \obj{\dial{4}}$ is an assignment of base attacks to
  dialectica spaces.  Then for any attack trees $[[T1]]$ and $[[T2]]$,
  $[[T1 ~= T2]]$ if and only if there is an isomorphism $m :
  \interp{[[T1]]} \mto \interp{[[T2]]}$ in $\dial{4}$.
\end{lemma}
\begin{proof}
  This proof holds by induction on the form of $[[T1 ~= T2]]$.
\end{proof}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: main.tex
%%% End: 
